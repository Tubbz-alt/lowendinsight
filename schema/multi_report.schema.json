{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/report.schema.json",
  "title": "Report",
  "description": "A LowEndInsight report (query response).",
  "type": "object",
  "properties": {
    "report": {
      "type": "object",
      "description": "Collection of repo reports",
      "properties":{
        "repos": {
          "type": "array",
          "items": { "$ref": "#/definitions/data"}
        }
      },
      "required": ["repos"]
    },
    "metadata": {
      "type": "object",
      "properties": {
        "repo_count": {
          "type": "number"
        },
        "risk_counts": {
          "type": "object"
        },
        "times": {
          "type": "object"
        }
      }
    }
  },  
  "definitions": {     
    "data": {
      "description": "The report data",
      "type": "object",
      "properties": {
        "commit_currency_risk": {
          "type": "string"
        },
        "commit_currency_weeks": {
          "type": "number"
        },
        "config": {
          "type": "object",
          "properties": {
            "medium_large_commit_level": {
              "type": "number"
            },
            "high_functional_contributors_level": {
              "type": "number"
            },
            "critical_currency_level": {
              "type": "number"
            },
            "high_contributor_level": {
              "type": "number"
            },
            "high_large_commit_level": {
              "type": "number"
            },
            "critcal_contributor_level": {
              "type": "number"
            },
            "medium_contributor_level": {
              "type": "number"
            },
            "high_currency_level": {
              "type": "number"
            },
            "critical_functional_contributors_level": {
              "type": "number"
            },
            "medium_functional_contributors_level": {
              "type": "number"
            },
            "medium_currency_level": {
              "type": "number"
            },
            "critical_large_commit_level": {
              "type": "number"
            }
          }
        },
        "contributor_count": {
          "type": "number"
        },
        "contributor_risk": {
          "type": "string"
        },
        "functional_contributors_names": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "functional_contributors": {
          "type": "number"
        },
        "functional_contributors_risk": {
          "type": "string"
        },
        "large_recent_commit_risk": {
          "type": "string"
        },
        "recent_commit_size_in_percent_of_codebase": {
          "type": "number"
        },
        "repo": {
          "type": "string"
        },
        "risk": {
          "type": "string"
        }
      }
    },
    "header": {
      "description": "Information about the report's generation.",
      "type": "object",
      "properties": {
        "duration": {
          "type": "number"
        },
        "end_time": {
          "type": "string"
        },
        "start_time": {
          "type": "string"
        },
        "uuid": {
          "type": "string"
        },
        "version": {
          "type": "string"
        }
      },
      "required": ["uuid", "version", "duration", "end_time", "start_time"]
    }
  },
  "required": ["report", "metadata"],
  "additionalProperties": false
}